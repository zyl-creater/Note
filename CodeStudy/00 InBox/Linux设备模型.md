除了驱动模型还有
[[字符驱动模型]]
[[平台驱动模型]]
[[简单gpio led驱动]]


## 前言

## 1、linux设备驱动模型简介
1、什么是设备驱动模型
(1)类[[class]]、总线[[bus]]、设备[[device]]、驱动[[driver]]（内核代码中有4个结构体）
(2)[[kobject]]和对象生命周期（自动管理生命周期）
(3)**[[sysfs文件系统]]**（虚拟文件系统，在内核空间和用户空间间建立关系，把内核的结构体变量的一些值以文件的形式展现出来，通过echo、cat操作属性节点）
(4)[[udev]]（实现内核空间和用户空间的信息的同步和转换）

## 2、为什么需要设备驱动模型
(1)早期内核（2.4之前）没有统一的设备驱动模型，但照样可以用
(2)2.6版本中正式引入设备驱动模型，目的是在设备越来越多，功耗要求等新特性要求的情况下让驱动体系更易用、更优秀。
(3)设备驱动模型负责统一实现和维护一些特性，诸如：电源管理、热插拔、对象生命周期、用户空间和驱动空间的交互等基础设施
(4)设备驱动模型目的是简化驱动程序编写，但是客观上设备驱动模型本身设计和实现很复杂。

## 3、驱动开发的2个点
(1)驱动源码本身编写、调试。重点在于对硬件的了解。
(2)驱动什么时候被安装、驱动中的函数什么时候被调用。跟硬件无关，完全和设备驱动模型有关。

2.设备驱动模型的底层架构
1、kobject